{"ast":null,"code":"var _jsxFileName = \"/Users/borislav26/GolandProjects/planted/frontend/src/component/Diagram.js\",\n  _s = $RefreshSig$();\nimport HighchartsReact from 'highcharts-react-official';\nimport Highcharts from 'highcharts';\nimport VennModule from \"highcharts/modules/venn.js\";\nimport { useEffect, useState } from 'react';\nimport { fetchOverlapBetweenGroups, fetchTotalOverlap } from '../logic';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nVennModule(Highcharts);\nconst Diagram = () => {\n  _s();\n  let vennOptions = {\n    title: {\n      text: 'Total Overlap Between Groups'\n    },\n    chart: {\n      backgroundColor: \"#ffd500\",\n      borderWidth: 2,\n      borderColor: \"#fff\",\n      borderRadius: 20,\n      className: \"\",\n      animation: false\n    },\n    series: [{\n      type: 'venn',\n      name: 'Overlap Between Groups',\n      data: [\n        //     {\n        //     sets: ['Seeds'],\n        //     value: 10000\n        // }, {\n        //     sets: ['FruitStars'],\n        //     value: 10000\n        // }, {\n        //     sets: ['Peapolis'],\n        //     value: 10000\n        // },\n        //     {\n        //     sets: ['Seeds', 'Fruit Stars'],\n        //     value: 12,\n        //     name: 'Slow Hi'\n        // }, {\n        //     sets: ['Seeds', 'Peapolis'],\n        //     value: 13,\n        //     name: 'Slow'\n        // }, {\n        //     sets: ['Fruit Stars', 'Peapolis'],\n        //     value: 10,\n        //     name: 'Not the best'\n        // }, {\n        //     sets: ['Seeds', 'Fruit Stars', 'Peapolis'],\n        //     value: 15,\n        //     name: 'She is daydreaming'\n        // }\n      ]\n    }]\n  };\n  const [vennOptionsState, setVennOptionsState] = useState({});\n  const fetchData = async () => {\n    const data = await fetchOverlapBetweenGroups();\n    return data;\n  };\n  const fetchTotalOverlapsData = async () => {\n    const data = await fetchTotalOverlap();\n    return data;\n  };\n  const setDiagramData = async () => {\n    const overlapBetweenGroupsData = await fetchData();\n    const totalOverlapData = await fetchTotalOverlapsData();\n    let allGroups = [];\n    overlapBetweenGroupsData.forEach(elem => {\n      const groups = elem.name.split(\"->\");\n      allGroups = [...allGroups, {\n        name: groups[0],\n        elementsNumber: elem.firstItemElements.length\n      }, {\n        name: groups[1],\n        elementsNumber: elem.secondItemElements.length\n      }];\n      vennOptions.series[0].data = [...vennOptions.series[0].data, {\n        sets: groups,\n        value: elem.numberOfUsers,\n        name: elem.name\n      }];\n    });\n    console.log(new Set(allGroups));\n    vennOptions.series[0].data = [...vennOptions.series[0].data, {\n      sets: [...new Set(allGroups.map(el => el.name))],\n      value: totalOverlapData.totalOverlap.length,\n      name: 'Total Overlap'\n    }];\n    const singleGroups = allGroups.map(el => ({\n      sets: el.name,\n      value: el.elementsNumber,\n      name: el.name\n    }));\n    vennOptions.series[0].data = [...vennOptions.series[0].data, ...singleGroups];\n    vennOptions.series[0].data = [...vennOptions.series[0].data, {\n      sets: [...new Set(allGroups.map(el => el.name))],\n      value: totalOverlapData.totalOverlap.length,\n      name: 'Total Overlap'\n    }];\n    setVennOptionsState(vennOptions);\n  };\n  useEffect(() => {\n    setDiagramData();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(HighchartsReact, {\n    highcharts: Highcharts,\n    options: vennOptionsState\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 108,\n    columnNumber: 9\n  }, this);\n};\n_s(Diagram, \"l8p8H3JDazcknOVUyrx7I8hpwXY=\");\n_c = Diagram;\nexport default Diagram;\nvar _c;\n$RefreshReg$(_c, \"Diagram\");","map":{"version":3,"names":["HighchartsReact","Highcharts","VennModule","useEffect","useState","fetchOverlapBetweenGroups","fetchTotalOverlap","Diagram","vennOptions","title","text","chart","backgroundColor","borderWidth","borderColor","borderRadius","className","animation","series","type","name","data","vennOptionsState","setVennOptionsState","fetchData","fetchTotalOverlapsData","setDiagramData","overlapBetweenGroupsData","totalOverlapData","allGroups","forEach","elem","groups","split","elementsNumber","firstItemElements","length","secondItemElements","sets","value","numberOfUsers","console","log","Set","map","el","totalOverlap","singleGroups"],"sources":["/Users/borislav26/GolandProjects/planted/frontend/src/component/Diagram.js"],"sourcesContent":["import HighchartsReact from 'highcharts-react-official'\nimport Highcharts from 'highcharts'\nimport VennModule from \"highcharts/modules/venn.js\"\nimport {useEffect, useState} from 'react'\nimport {fetchOverlapBetweenGroups, fetchTotalOverlap} from '../logic'\nVennModule(Highcharts)\n\nconst Diagram = () => {\n    let vennOptions = {\n        title: {\n            text: 'Total Overlap Between Groups'\n        },\n        chart: {\n            backgroundColor: \"#ffd500\",\n            borderWidth: 2,\n            borderColor: \"#fff\",\n            borderRadius: 20,\n            className : \"\",\n            animation: false,\n        },\n        series: [{\n            type: 'venn',\n            name: 'Overlap Between Groups',\n            data: [\n            //     {\n            //     sets: ['Seeds'],\n            //     value: 10000\n            // }, {\n            //     sets: ['FruitStars'],\n            //     value: 10000\n            // }, {\n            //     sets: ['Peapolis'],\n            //     value: 10000\n            // },\n                //     {\n                //     sets: ['Seeds', 'Fruit Stars'],\n                //     value: 12,\n                //     name: 'Slow Hi'\n                // }, {\n                //     sets: ['Seeds', 'Peapolis'],\n                //     value: 13,\n                //     name: 'Slow'\n                // }, {\n                //     sets: ['Fruit Stars', 'Peapolis'],\n                //     value: 10,\n                //     name: 'Not the best'\n                // }, {\n                //     sets: ['Seeds', 'Fruit Stars', 'Peapolis'],\n                //     value: 15,\n                //     name: 'She is daydreaming'\n                // }\n            ]\n        }]\n    }\n\n    const [vennOptionsState, setVennOptionsState] = useState({})\n\n    const fetchData = async () => {\n        const data = await fetchOverlapBetweenGroups()\n        return data\n    }\n\n    const fetchTotalOverlapsData = async () => {\n        const data = await fetchTotalOverlap()\n        return data\n    }\n\n    const setDiagramData = async () => {\n        const overlapBetweenGroupsData = await fetchData()\n        const totalOverlapData = await fetchTotalOverlapsData()\n\n        let allGroups = []\n\n        overlapBetweenGroupsData.forEach((elem) => {\n            const groups = elem.name.split(\"->\")\n            allGroups = [\n                ...allGroups,\n                {name: groups[0], elementsNumber: elem.firstItemElements.length},\n                {name: groups[1], elementsNumber: elem.secondItemElements.length},\n            ]\n            vennOptions.series[0].data = [...vennOptions.series[0].data, {sets: groups, value: elem.numberOfUsers, name: elem.name}]\n        })\n\n        console.log(new Set(allGroups))\n        vennOptions.series[0].data = [...vennOptions.series[0].data, {\n            sets: [...new Set(allGroups.map(el => el.name))], value: totalOverlapData.totalOverlap.length, name: 'Total Overlap'}\n        ]\n\n        const singleGroups = allGroups.map(el => ({sets: el.name, value: el.elementsNumber, name: el.name}))\n        vennOptions.series[0].data = [...vennOptions.series[0].data, ...singleGroups]\n\n        vennOptions.series[0].data = [...vennOptions.series[0].data, {\n            sets: [...new Set(allGroups.map(el => el.name))], value: totalOverlapData.totalOverlap.length, name: 'Total Overlap'}\n        ]\n\n        setVennOptionsState(vennOptions)\n    }\n\n    useEffect(() => {\n        setDiagramData()\n    }, [])\n\n\n\n\n\n    return (\n        <HighchartsReact\n            highcharts={Highcharts}\n            options={vennOptionsState}\n        />\n    )\n}\n\nexport default Diagram"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}